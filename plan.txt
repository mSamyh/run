1Ô∏è‚É£ ENTERPRISE-GRADE RUN CHALLENGE WEB APP ‚Äì BLUEPRINT

üéØ Core Concept

A run challenge platform where:
	‚Ä¢	Admins / Organizers create and manage challenges
	‚Ä¢	Athletes register, sync Strava, and compete
	‚Ä¢	Runs auto-sync from Strava API
	‚Ä¢	Progress, milestones, and leaderboards update automatically
	‚Ä¢	Optimized for PWA + mobile-first

‚∏ª

üë• User Roles

üßë‚Äçüíº Admin / Organizer
	‚Ä¢	Create & manage challenges
	‚Ä¢	Define challenge rules & metrics
	‚Ä¢	View analytics
	‚Ä¢	Manage athletes
	‚Ä¢	Moderate leaderboards

üèÉ Athlete
	‚Ä¢	Register & manage profile
	‚Ä¢	Connect Strava
	‚Ä¢	Join challenges
	‚Ä¢	Track progress
	‚Ä¢	View leaderboards

‚∏ª

üß± System Architecture (High Level)

Frontend
	‚Ä¢	Next.js / React
	‚Ä¢	PWA enabled
	‚Ä¢	Mobile-first UI
	‚Ä¢	Bottom navigation
	‚Ä¢	Offline-safe caching

Backend
	‚Ä¢	REST / GraphQL API
	‚Ä¢	Webhooks for Strava
	‚Ä¢	Background jobs (run syncing & recalculation)
	‚Ä¢	Role-based access control (RBAC)

Database
	‚Ä¢	PostgreSQL (recommended)
	‚Ä¢	Time-series friendly tables for runs
	‚Ä¢	Indexed leaderboard tables

Integrations
	‚Ä¢	Strava OAuth + Webhooks
	‚Ä¢	Email / Push notifications
	‚Ä¢	Optional analytics (Mixpanel, GA)

‚∏ª

üóÑÔ∏è Core Database Entities

Users
	‚Ä¢	id
	‚Ä¢	role (admin / athlete)
	‚Ä¢	name
	‚Ä¢	email
	‚Ä¢	avatar
	‚Ä¢	gender, age group
	‚Ä¢	country, club
	‚Ä¢	strava_user_id
	‚Ä¢	created_at

Challenges
	‚Ä¢	id
	‚Ä¢	title
	‚Ä¢	description
	‚Ä¢	start_date
	‚Ä¢	end_date
	‚Ä¢	registration_deadline
	‚Ä¢	challenge_type
	‚Ä¢	distance (e.g. 100km)
	‚Ä¢	time
	‚Ä¢	frequency
	‚Ä¢	rules (JSON)
	‚Ä¢	visibility (public / private)
	‚Ä¢	created_by

ChallengeParticipants
	‚Ä¢	id
	‚Ä¢	challenge_id
	‚Ä¢	user_id
	‚Ä¢	joined_at
	‚Ä¢	status (active / completed / disqualified)

Runs
	‚Ä¢	id
	‚Ä¢	user_id
	‚Ä¢	challenge_id
	‚Ä¢	strava_activity_id
	‚Ä¢	distance
	‚Ä¢	duration
	‚Ä¢	pace
	‚Ä¢	run_date
	‚Ä¢	verified

Leaderboards
	‚Ä¢	challenge_id
	‚Ä¢	user_id
	‚Ä¢	total_distance
	‚Ä¢	total_time
	‚Ä¢	rank
	‚Ä¢	updated_at

‚∏ª

üîÅ Key System Flows

Athlete Onboarding
	1.	Sign up
	2.	Complete profile
	3.	Connect Strava
	4.	Browse challenges
	5.	Join challenge

Strava Sync Flow
	1.	Athlete authorizes Strava
	2.	Webhook receives new activity
	3.	Validate activity
	4.	Assign run to eligible challenges
	5.	Recalculate:
	‚Ä¢	Progress
	‚Ä¢	Leaderboard rank
	6.	Notify athlete

‚∏ª

2Ô∏è‚É£ PWA / MOBILE UX STRUCTURE

üì± Bottom Navigation (Athlete App)

Icon	Page
üè†	Home
üèÜ	Challenges
üìä	Leaderboard
üë§	Profile


‚∏ª

üè† HOME (Athlete Dashboard)

Purpose: Motivation + clarity

Components
	‚Ä¢	Greeting (dynamic)
	‚Ä¢	Quick stats:
	‚Ä¢	Total distance this week
	‚Ä¢	Active challenges count
	‚Ä¢	My Challenges (Cards)
	‚Ä¢	Progress bar
	‚Ä¢	% completed
	‚Ä¢	Days remaining
	‚Ä¢	Tips Section
	‚Ä¢	Recovery tips
	‚Ä¢	Hydration reminders
	‚Ä¢	Training suggestions (static or AI-generated)

‚∏ª

üèÜ CHALLENGES PAGE

Tabs
	‚Ä¢	Active Challenges
	‚Ä¢	Upcoming
	‚Ä¢	Completed

Challenge Card
	‚Ä¢	Title
	‚Ä¢	Duration
	‚Ä¢	Goal (e.g. 100km)
	‚Ä¢	Participants count
	‚Ä¢	Join / View button

Challenge Detail Page
	‚Ä¢	Description
	‚Ä¢	Rules & criteria
	‚Ä¢	Metrics used (distance, pace, etc.)
	‚Ä¢	Eligibility
	‚Ä¢	Start / End dates
	‚Ä¢	Join button

‚∏ª

üìä LEADERBOARD PAGE

Features
	‚Ä¢	Filter by challenge
	‚Ä¢	Rankings:
	‚Ä¢	Overall
	‚Ä¢	Gender
	‚Ä¢	Age group
	‚Ä¢	Real-time updates
	‚Ä¢	Highlight logged-in athlete
	‚Ä¢	Tie-break logic clearly shown

‚∏ª

üë§ PROFILE PAGE

Sections

Profile Info
	‚Ä¢	Name
	‚Ä¢	Avatar
	‚Ä¢	Age group
	‚Ä¢	Country / Club

Strava Integration
	‚Ä¢	Connect / Disconnect
	‚Ä¢	Sync status
	‚Ä¢	Last sync timestamp

Settings
	‚Ä¢	Notifications
	‚Ä¢	Privacy
	‚Ä¢	Units (km / miles)
	‚Ä¢	Logout

‚∏ª

üì≤ PWA FEATURES
	‚Ä¢	Offline mode (view last data)
	‚Ä¢	Push notifications
	‚Ä¢	Home screen install
	‚Ä¢	Background sync (when online)
	‚Ä¢	Fast cold-start

‚∏ª

3Ô∏è‚É£ CURSOR AI ‚Äì MASTER PROMPT üöÄ

You can paste this directly into Cursor:

‚∏ª

üß† CURSOR AI PROMPT

You are a senior full-stack architect and product engineer.

Build a full enterprise-grade Run Challenge web application with the following requirements:

GENERAL
- Web app + PWA (mobile-first)
- Athlete and Admin roles
- Clean modular architecture
- Scalable and secure
- Modern UI with bottom navigation

FEATURES
1. Authentication
   - Email/password
   - Role-based access (Admin / Athlete)

2. Athlete Experience
   - Home dashboard showing:
     - Active challenges
     - Progress bars
     - Weekly stats
     - Training tips
   - Challenges page:
     - View active challenges
     - Join challenges
     - View challenge details and criteria
   - Leaderboard page:
     - Challenge-based leaderboard
     - Rank by distance/time
     - Highlight logged-in athlete
   - Profile page:
     - Athlete info
     - Avatar upload
     - Strava connection
     - Settings

3. Admin Experience
   - Create and manage challenges
   - Define challenge rules:
     - Distance goals
     - Time-based goals
     - Date range
   - View participants
   - View analytics
   - Moderate leaderboard if needed

4. Strava Integration
   - OAuth login
   - Store Strava user ID securely
   - Webhook to receive new activities
   - Auto-assign runs to active challenges
   - Recalculate progress and leaderboards

5. Backend
   - REST or GraphQL API
   - Background jobs for syncing
   - Secure webhook handling
   - Idempotent Strava sync logic

6. Database
   - Users
   - Challenges
   - ChallengeParticipants
   - Runs
   - Leaderboards

TECH GUIDELINES
- Use clean architecture
- Separate services and UI logic
- Mobile-first design
- Reusable components
- Optimized queries for leaderboards

DELIVERABLES
- Folder structure
- API design
- Database schema
- Key frontend components
- Strava integration flow
- Security considerations


‚∏ª

üî• Optional Advanced Features (Future-Proof)
	‚Ä¢	Team challenges
	‚Ä¢	AI coaching tips
	‚Ä¢	Injury/rest tracking
	‚Ä¢	Corporate events
	‚Ä¢	Sponsor branding
	‚Ä¢	Anti-cheat detection
	‚Ä¢	GPS anomaly detection

